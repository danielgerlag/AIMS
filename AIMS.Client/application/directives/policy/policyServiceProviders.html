<table class="table">
    <tr>
        <th>Type</th>
        <th>Service Provider</th>
        <th>Percentage</th>
        <th><button type="button" class="btn" (click)="add()">Add</button></th>
    </tr>
    <tr *ngFor="#sp of policy.ServiceProviders">
        <td>
            
            <entity-dropdown [(value)]="sp.ServiceProviderTypeID"
                             name="ServiceProviderTypeID"
                             query="ServiceProviderTypes"
                             keyField="ID"
                             displayField="Name"
                             nullable="false">
            </entity-dropdown>

        </td>
        <td>
            <entity-dropdown 
                             [(value)]="sp.ServiceProviderID"
                             name="ServiceProviderID"
                             query="ServiceProviders?$filter=ServiceProviderTypeID eq {{sp.ServiceProviderTypeID}}&$expand=Public"
                             keyField="ID"
                             displayField="Public.Name"
                             nullable="false">
            </entity-dropdown>
        </td>
        <td>
            <input numericInput name="Percentage" [(ngModel)]="sp.Percentage" format="p0" min="0" max="1" step="0.01">
        </td>
        <td>
            <button type="button" class="btn" (click)="remove(sp)"><i class="fa fa-trash fa-fw"></i></button>
        </td>
    </tr>
</table>