<form (submit)="save()" [hidden]="complete">
    <h4>{{ title }}</h4>
    <div class="row">
        <tabset>
            <tab heading="General">

                <form-input [entity]="entity" name="PublicID" title="Public">
                    <publicSelector [(value)]="entity.Public" [dataService]="dataService"></publicSelector>
                </form-input>                

                <form-input [entity]="entity" name="ReportingEntityProfileID" title="Configuration Profile">
                    <entity-dropdown [(value)]="entity.ReportingEntityProfileID"
                                     name="ReportingEntityProfileID"
                                     query="ReportingEntityProfiles"
                                     keyField="ID"
                                     displayField="Name"
                                     nullable="false">
                    </entity-dropdown>
                </form-input>
                    

            </tab>
            
            <tab heading="Transaction Triggers">
                <transactionTriggers [(value)]="entity" [dataService]="dataService" type="ReportingEntityTransactionTrigger"></transactionTriggers>
            </tab>

            <tab heading="Balances">
                Effective Date:
                <input dateInput [(value)]="ledgerBalanceDate" />
                <tabset>
                    <tab heading="Ledger">
                        <div ledgerBalances source="ReportingEntity" [id]="entity.ID" [effectiveDate]="ledgerBalanceDate"></div>
                    </tab>
                    <tab heading="Debtors">
                        <div debtorCreditorBalances source="ReportingEntity" [id]="entity.ID" [effectiveDate]="ledgerBalanceDate" isDebtor="true" isCreditor="false" ></div>
                    </tab>
                    <tab heading="Creditors">
                        <div debtorCreditorBalances source="ReportingEntity" [id]="entity.ID" [effectiveDate]="ledgerBalanceDate" isDebtor="false" isCreditor="true" ></div>
                    </tab>
                </tabset>


            </tab>

            <tab heading="Journals">
                id = {{entity.ID}}

                <div journalExplorer path="ReportingEntities({{entity.ID}})/Journals"></div>
            </tab>
        </tabset>

    </div>

    <error-summary [canShow]="showErrorSummary" [entity]="entity"></error-summary>

    <div class="modal-footer">
        <button type="submit" class="btn btn-primary">Save</button>
    </div>


</form>
